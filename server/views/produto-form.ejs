<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title || 'Produto' %> - Agrovale</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div class="sidebar">
    <h2>Agrovale</h2>
    <ul>
      <li><a href="/dashboard">ğŸ  InÃ­cio</a></li>
      <li><a href="/produtos" class="active">ğŸ“¦ Produtos</a></li>
      <li><a href="/vendas">ğŸ’° Vendas</a></li>
      <li><a href="/estatisticas">ğŸ“Š EstatÃ­sticas</a></li>
      <li><a href="/clientes">ğŸ‘¤ Clientes</a></li>
      <li><a href="/relatorios/auditoria">ğŸ§¾ Auditoria</a></li>
      <li><a href="/logout">ğŸšª Sair</a></li>
    </ul>
  </div>

  <div class="content">
    <header><h1><%= title || 'Cadastro de Produto' %></h1></header>

    <form action="<%= action %>" method="POST" class="form-container">
      
      <!-- CÃ“DIGO -->
      <div class="form-group">
        <label for="codigo">CÃ³digo:</label>
        <input
          type="text"
          id="codigo"
          name="codigo"
          value="<%= (produto && produto.Codigo) ? produto.Codigo : (typeof nextCodigo !== 'undefined' ? nextCodigo : '') %>"
          placeholder="Gerado automaticamente"
          readonly
        >
      </div>

      <!-- NOME -->
      <div class="form-group">
        <label for="nome_produto">Nome do Produto:</label>
        <input
          type="text"
          id="nome_produto"
          name="nome_produto"
          required
          value="<%= produto && produto.Nome ? produto.Nome : '' %>"
        >
      </div>

      <!-- CATEGORIA -->
      <div class="form-group">
        <label for="categoria">Categoria:</label>
        <input
          type="text"
          id="categoria"
          name="categoria"
          value="<%= produto && produto.Categoria ? produto.Categoria : '' %>"
        >
      </div>

      <!-- SUBCATEGORIA -->
      <div class="form-group">
        <label for="subcategoria">Subcategoria:</label>
        <input
          type="text"
          id="subcategoria"
          name="subcategoria"
          value="<%= produto && produto.Subcategoria ? produto.Subcategoria : '' %>"
        >
      </div>

      <!-- PREÃ‡O DE CUSTO -->
      <div class="form-group">
        <label for="preco_custo">PreÃ§o de Custo (R$):</label>
        <input
          type="number"
          step="0.01"
          id="preco_custo"
          name="preco_custo"
          value="<%= produto && produto.PrecoCusto ? produto.PrecoCusto : 0 %>"
        >
      </div>

      <!-- MARGEM DE LUCRO -->
      <div class="form-group">
        <label for="margem_lucro">Margem de Lucro (%):</label>
        <input
          type="number"
          step="0.01"
          id="margem_lucro"
          name="margem_lucro"
          value="0"
        >
      </div>

      <!-- UNIDADE -->
      <div class="form-group">
        <label for="unidade_medida">Unidade de Medida:</label>
        <input
          type="text"
          id="unidade_medida"
          name="unidade_medida"
          value="<%= produto && produto.UnidadeMedida ? produto.UnidadeMedida : 'un' %>"
        >
      </div>

      <!-- ESTOQUE MÃNIMO -->
      <div class="form-group">
        <label for="estoque_minimo">Estoque MÃ­nimo:</label>
        <input
          type="number"
          id="estoque_minimo"
          name="estoque_minimo"
          value="<%= produto && produto.EstoqueMinimo ? produto.EstoqueMinimo : 0 %>"
        >
      </div>

      <!-- FORNECEDOR -->
      <div class="form-group">
        <label for="fornecedor_id">Fornecedor (ID ou Nome):</label>
        <input
          type="text"
          id="fornecedor_id"
          name="fornecedor_id"
          value="<%= produto && produto.FornecedorID ? produto.FornecedorID : '' %>"
        >
      </div>

      <!-- BOTÃ•ES -->
      <div class="form-actions">
        <button type="submit" class="btn btn-primary">Salvar</button>
        <a href="/produtos" class="btn btn-secondary">Cancelar</a>
      </div>
    </form>
  </div>
</body>
</html>
